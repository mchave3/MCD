<!-- Generated by build task Generate_Repo_Docs. Do not edit manually. -->
# Initialize-MCDTargetDisk

Source: `source/Private/WinPE/Disk/Initialize-MCDTargetDisk.ps1`

## Synopsis

Prepares a target disk for Windows deployment in WinPE.

## Description

Clears and initializes a disk according to the WinPE DiskPolicy and creates
a basic UEFI/GPT partition layout suitable for applying a Windows image.
This function is intentionally guarded: destructive actions only run when
DiskPolicy.AllowDestructiveActions is enabled.

Current layout (UEFI/GPT):
- EFI System Partition (FAT32, 260MB)
- Microsoft Reserved Partition (MSR, 16MB)
- Windows partition (NTFS, remaining space)

The layout aligns with Microsoft partitioning guidance and uses the WinPE-
safe drive letters recommended by Microsoft (System=S, Windows=W) when
available.

## Parameters

| Name | Type | Mandatory | Pipeline | Description |
| --- | --- | --- | --- | --- |
| DiskNumber | Int32 | Yes | No | Disk number to prepare (the disk will be wiped and repartitioned when destructive actions are permitted). |
| DiskPolicy | PSObject | No | No | WinPE disk policy object (typically from WinPE config). The property AllowDestructiveActions must be $true to permit wiping/partitioning. |

## Examples

### Example 1

```powershell
Initialize-MCDTargetDisk -DiskNumber 0 -DiskPolicy ([pscustomobject]@{ AllowDestructiveActions = $true })

Clears disk 0 and creates a UEFI/GPT partition layout.
```
